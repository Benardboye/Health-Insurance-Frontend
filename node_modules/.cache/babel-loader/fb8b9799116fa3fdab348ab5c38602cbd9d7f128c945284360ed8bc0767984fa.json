{"ast":null,"code":"var _jsxFileName = \"/Users/decagon/Desktop/insurance-landing-page/src/components/context/authcontext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { apiPost, apiGet } from '../utils/axios';\nimport React, { createContext, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const DataContext = /*#__PURE__*/createContext();\nconst DataProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const [plans, setPlans] = useState([]);\n  const navigate = useNavigate();\n  const register = async formdata => {\n    try {\n      const registerData = {\n        name: formdata.name,\n        email: formdata.email,\n        phone: formdata.phone,\n        password: formdata.password\n      };\n      await apiPost('/api/user/create', registerData).then(res => {\n        toast.success(res.data.Message);\n        // localStorage.setItem(\"signature\", res.data.signature)\n      });\n\n      navigate('/login');\n    } catch (err) {\n      console.log(err);\n      toast.error(err.response.data.Error);\n    }\n  };\n  const login = async formdata => {\n    try {\n      const loginData = {\n        email: formdata.email,\n        password: formdata.password\n      };\n      await apiPost('/api/user/login', loginData).then(res => {\n        console.log(res.data);\n        toast.success(res.data.Message);\n        localStorage.setItem('signature', res.data.signature);\n        localStorage.setItem('user', res.data.username);\n      });\n      navigate('/');\n    } catch (err) {\n      console.log(err);\n      toast.error(err.response.data.Error);\n    }\n  };\n\n  /*========================  DISPLAY ALL PLANS  ===================*/\n\n  const DisplayPlans = async () => {\n    try {\n      await apiGet(`/api/plan/get`).then(res => {\n        console.log(res.data);\n        setPlans([...res.data.getPlans]);\n      });\n    } catch (err) {\n      console.log(err.response.data.Error);\n    }\n  };\n\n  /*========================  DISPLAY SINGLE PLAN  ===================*/\n\n  const DisplayPlan = async id => {\n    try {\n      await apiGet(`/api/plan/get/${id}`).then(res => {\n        console.log(res.data);\n      });\n    } catch (err) {\n      console.log(err.response.data.Error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(DataContext.Provider, {\n    value: {\n      register,\n      login,\n      DisplayPlans,\n      plans\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n};\n_s(DataProvider, \"f05Gg9gwHlMzUG0x3vPjEJXBsLQ=\", false, function () {\n  return [useNavigate];\n});\n_c = DataProvider;\nexport const useAuth = () => {\n  _s2();\n  const context = React.useContext(DataContext);\n  if (context === undefined) {\n    throw new Error('UseAuth must be used within the auth provider');\n  }\n  return context;\n};\n_s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nexport default DataProvider;\nvar _c;\n$RefreshReg$(_c, \"DataProvider\");","map":{"version":3,"names":["apiPost","apiGet","React","createContext","useState","useNavigate","toast","DataContext","DataProvider","children","plans","setPlans","navigate","register","formdata","registerData","name","email","phone","password","then","res","success","data","Message","err","console","log","error","response","Error","login","loginData","localStorage","setItem","signature","username","DisplayPlans","getPlans","DisplayPlan","id","useAuth","context","useContext","undefined"],"sources":["/Users/decagon/Desktop/insurance-landing-page/src/components/context/authcontext.js"],"sourcesContent":["import { apiPost, apiGet } from '../utils/axios';\nimport React, { createContext, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { toast } from 'react-toastify';\n\nexport const DataContext = createContext();\n\nconst DataProvider = ({ children }) => {\n  const [plans, setPlans] = useState([]);\n  const navigate = useNavigate();\n  const register = async (formdata) => {\n    try {\n      const registerData = {\n        name: formdata.name,\n        email: formdata.email,\n        phone: formdata.phone,\n        password: formdata.password,\n      };\n      await apiPost('/api/user/create', registerData).then((res) => {\n        toast.success(res.data.Message);\n        // localStorage.setItem(\"signature\", res.data.signature)\n      });\n      navigate('/login');\n    } catch (err) {\n      console.log(err);\n      toast.error(err.response.data.Error);\n    }\n  };\n\n  const login = async (formdata) => {\n    try {\n      const loginData = {\n        email: formdata.email,\n        password: formdata.password,\n      };\n      await apiPost('/api/user/login', loginData).then((res) => {\n        console.log(res.data);\n        toast.success(res.data.Message);\n        localStorage.setItem('signature', res.data.signature);\n        localStorage.setItem('user', res.data.username);\n      });\n      navigate('/');\n    } catch (err) {\n      console.log(err);\n      toast.error(err.response.data.Error);\n    }\n  };\n\n  /*========================  DISPLAY ALL PLANS  ===================*/\n\n  const DisplayPlans = async () => {\n    try {\n      await apiGet(`/api/plan/get`).then((res) => {\n        console.log(res.data)\n        setPlans([...res.data.getPlans]);\n      });\n    } catch (err) {\n      console.log(err.response.data.Error);\n    }\n  };\n\n   /*========================  DISPLAY SINGLE PLAN  ===================*/\n\n   const DisplayPlan = async (id) => {\n    try {\n      await apiGet(`/api/plan/get/${id}`).then((res) => {\n        console.log(res.data)\n      });\n    } catch (err) {\n      console.log(err.response.data.Error);\n    }\n  };\n\n  return (\n    <DataContext.Provider value={{ register, login, DisplayPlans, plans }}>\n      {children}\n    </DataContext.Provider>\n  );\n};\n\nexport const useAuth = () => {\n  const context = React.useContext(DataContext);\n  if (context === undefined) {\n    throw new Error('UseAuth must be used within the auth provider');\n  }\n  return context;\n};\n\nexport default DataProvider;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}