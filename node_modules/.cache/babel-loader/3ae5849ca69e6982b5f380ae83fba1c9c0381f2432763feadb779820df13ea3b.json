{"ast":null,"code":"var _jsxFileName = \"/Users/decagon/Desktop/insurance-landing-page/src/components/context/authcontext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { apiPost, apiGet } from '../utils/axios';\nimport React, { createContext, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const DataContext = /*#__PURE__*/createContext();\nconst DataProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const [plans, setPlans] = useState([]);\n  const navigate = useNavigate();\n  const register = async formdata => {\n    try {\n      const registerData = {\n        name: formdata.name,\n        email: formdata.email,\n        phone: formdata.phone,\n        password: formdata.password\n      };\n      await apiPost('/api/user/create', registerData).then(res => {\n        toast.success(res.data.Message);\n        // localStorage.setItem(\"signature\", res.data.signature)\n      });\n\n      navigate('/login');\n    } catch (err) {\n      toast.error(err.response.data.Error);\n    }\n  };\n  const login = async formdata => {\n    try {\n      const loginData = {\n        email: formdata.email,\n        password: formdata.password\n      };\n      await apiPost('/api/user/login', loginData).then(res => {\n        toast.success(res.data.Message);\n        localStorage.setItem('signature', res.data.signature);\n        localStorage.setItem('user', res.data.username);\n      });\n      setTimeout(() => {\n        window.location.href = '/';\n      }, 2000);\n    } catch (err) {\n      toast.error(err.response.data.Error);\n    }\n  };\n\n  /*========================  DISPLAY ALL PLANS  ===================*/\n\n  const DisplayPlans = async () => {\n    try {\n      await apiGet(`/api/plan/get`).then(res => {\n        setPlans([...res.data.getPlans]);\n      });\n    } catch (err) {\n      toast.error(err.response.data.Error);\n    }\n  };\n\n  /*========================  DISPLAY SINGLE PLAN  ===================*/\n\n  const DisplayPlan = async id => {\n    try {\n      await apiGet(`/api/plan/get-plan/${id}`).then(res => {\n        localStorage.setItem('id', res.data.getPlan._id);\n        localStorage.setItem('price', res.data.getPlan.planPrice);\n        localStorage.setItem('health plan', res.data.getPlan.planPrice);\n      });\n    } catch (err) {\n      toast.error(err.response.data.Error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(DataContext.Provider, {\n    value: {\n      register,\n      login,\n      DisplayPlans,\n      plans,\n      DisplayPlan\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n};\n_s(DataProvider, \"f05Gg9gwHlMzUG0x3vPjEJXBsLQ=\", false, function () {\n  return [useNavigate];\n});\n_c = DataProvider;\nexport const useAuth = () => {\n  _s2();\n  const context = React.useContext(DataContext);\n  if (context === undefined) {\n    throw new Error('UseAuth must be used within the auth provider');\n  }\n  return context;\n};\n_s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nexport default DataProvider;\nvar _c;\n$RefreshReg$(_c, \"DataProvider\");","map":{"version":3,"names":["apiPost","apiGet","React","createContext","useState","useNavigate","toast","DataContext","DataProvider","children","plans","setPlans","navigate","register","formdata","registerData","name","email","phone","password","then","res","success","data","Message","err","error","response","Error","login","loginData","localStorage","setItem","signature","username","setTimeout","window","location","href","DisplayPlans","getPlans","DisplayPlan","id","getPlan","_id","planPrice","useAuth","context","useContext","undefined"],"sources":["/Users/decagon/Desktop/insurance-landing-page/src/components/context/authcontext.js"],"sourcesContent":["import { apiPost, apiGet } from '../utils/axios';\nimport React, { createContext, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { toast } from 'react-toastify';\n\nexport const DataContext = createContext();\n\nconst DataProvider = ({ children }) => {\n  const [plans, setPlans] = useState([]);\n  const navigate = useNavigate();\n  const register = async (formdata) => {\n    try {\n      const registerData = {\n        name: formdata.name,\n        email: formdata.email,\n        phone: formdata.phone,\n        password: formdata.password,\n      };\n      await apiPost('/api/user/create', registerData).then((res) => {\n        toast.success(res.data.Message);\n        // localStorage.setItem(\"signature\", res.data.signature)\n      });\n      navigate('/login');\n    } catch (err) {\n      toast.error(err.response.data.Error);\n    }\n  };\n\n  const login = async (formdata) => {\n    try {\n      const loginData = {\n        email: formdata.email,\n        password: formdata.password,\n      };\n      await apiPost('/api/user/login', loginData).then((res) => {\n        toast.success(res.data.Message);\n        localStorage.setItem('signature', res.data.signature);\n        localStorage.setItem('user', res.data.username);\n      });\n      setTimeout(() => {\n        window.location.href = '/';\n      }, 2000);\n    } catch (err) {\n      toast.error(err.response.data.Error);\n    }\n  };\n\n  /*========================  DISPLAY ALL PLANS  ===================*/\n\n  const DisplayPlans = async () => {\n    try {\n      await apiGet(`/api/plan/get`).then((res) => {\n        setPlans([...res.data.getPlans]);\n      });\n    } catch (err) {\n      toast.error(err.response.data.Error);\n    }\n  };\n\n  /*========================  DISPLAY SINGLE PLAN  ===================*/\n\n  const DisplayPlan = async (id) => {\n    try {\n      await apiGet(`/api/plan/get-plan/${id}`).then((res) => {\n        localStorage.setItem('id', res.data.getPlan._id);\n        localStorage.setItem('price', res.data.getPlan.planPrice);\n        localStorage.setItem('health plan', res.data.getPlan.planPrice);\n      });\n    } catch (err) {\n      toast.error(err.response.data.Error);\n    }\n  };\n\n  return (\n    <DataContext.Provider\n      value={{ register, login, DisplayPlans, plans, DisplayPlan }}\n    >\n      {children}\n    </DataContext.Provider>\n  );\n};\n\nexport const useAuth = () => {\n  const context = React.useContext(DataContext);\n  if (context === undefined) {\n    throw new Error('UseAuth must be used within the auth provider');\n  }\n  return context;\n};\n\nexport default DataProvider;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}