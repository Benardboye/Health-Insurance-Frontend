{"ast":null,"code":"var _jsxFileName = \"/Users/decagon/Desktop/insurance-landing-page/src/components/context/authcontext.js\",\n  _s = $RefreshSig$();\nimport { apiPost } from '../utils/axios';\nimport React, { createContext } from 'react';\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const DataContext = /*#__PURE__*/createContext();\nconst DataProvider = _ref => {\n  let {\n    children\n  } = _ref;\n  const register = async formdata => {\n    try {\n      const registerData = {\n        name: formdata.name,\n        email: formdata.email,\n        phone: formdata.phone,\n        password: formdata.password\n      };\n      await apiPost('/api/user/create', registerData).then(res => {\n        toast.success(res.data.Message);\n        localStorage.setItem(\"signature\", res.data.signature);\n      });\n    } catch (err) {\n      console.log(err);\n      toast.error(err.response.data.Error);\n    }\n  };\n  const login = async formdata => {\n    try {\n      const loginData = {\n        email: formdata.email,\n        password: formdata.password\n      };\n      await apiPost('/api/user/login', loginData).then(res => {\n        console.log(res.data);\n        toast.success(res.data.Message);\n        localStorage.setItem(\"signature\", res.data.signature);\n      });\n    } catch (err) {\n      console.log(err);\n      toast.error(err.response.data.Error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(DataContext.Provider, {\n    value: {\n      register,\n      login\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n};\n_c = DataProvider;\nexport const useAuth = () => {\n  _s();\n  const context = React.useContext(DataContext);\n  if (context === undefined) {\n    throw new Error(\"UseAuth must be used within the auth provider\");\n  }\n  return context;\n};\n_s(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nexport default DataProvider;\nvar _c;\n$RefreshReg$(_c, \"DataProvider\");","map":{"version":3,"names":["apiPost","React","createContext","toast","DataContext","DataProvider","children","register","formdata","registerData","name","email","phone","password","then","res","success","data","Message","localStorage","setItem","signature","err","console","log","error","response","Error","login","loginData","useAuth","context","useContext","undefined"],"sources":["/Users/decagon/Desktop/insurance-landing-page/src/components/context/authcontext.js"],"sourcesContent":["import { apiPost } from '../utils/axios';\nimport React, { createContext } from 'react';\nimport { toast } from 'react-toastify';\n\nexport const DataContext = createContext();\n\nconst DataProvider = ({ children }) => {\n  const register = async (formdata) => {\n    try {\n      const registerData = {\n        name: formdata.name,\n        email: formdata.email,\n        phone: formdata.phone,\n        password: formdata.password,\n      };\n      await apiPost('/api/user/create', registerData).then((res) => {\n        toast.success(res.data.Message);\n        localStorage.setItem(\"signature\", res.data.signature)\n      });\n    } catch (err) {\n      console.log(err);\n      toast.error(err.response.data.Error);\n    }\n  };\n\n  const login = async(formdata) => {\n    try{\n        const loginData = {\n            email: formdata.email,\n            password: formdata.password,\n        }\n        await apiPost('/api/user/login', loginData).then((res) => {\n            console.log(res.data);\n            toast.success(res.data.Message);\n            localStorage.setItem(\"signature\", res.data.signature)\n          });\n    } catch (err) {\n        console.log(err);\n        toast.error(err.response.data.Error);\n      }\n  }\n\n  return (\n    <DataContext.Provider value={{ register, login }}>{children}</DataContext.Provider>\n  );\n};\n\nexport const useAuth = () =>{\n    const context = React.useContext(DataContext)\n    if(context === undefined) {\n        throw new Error(\"UseAuth must be used within the auth provider\")\n    }\n    return context\n}\n\nexport default DataProvider"],"mappings":";;AAAA,SAASA,OAAO,QAAQ,gBAAgB;AACxC,OAAOC,KAAK,IAAIC,aAAa,QAAQ,OAAO;AAC5C,SAASC,KAAK,QAAQ,gBAAgB;AAAC;AAEvC,OAAO,MAAMC,WAAW,gBAAGF,aAAa,EAAE;AAE1C,MAAMG,YAAY,GAAG,QAAkB;EAAA,IAAjB;IAAEC;EAAS,CAAC;EAChC,MAAMC,QAAQ,GAAG,MAAOC,QAAQ,IAAK;IACnC,IAAI;MACF,MAAMC,YAAY,GAAG;QACnBC,IAAI,EAAEF,QAAQ,CAACE,IAAI;QACnBC,KAAK,EAAEH,QAAQ,CAACG,KAAK;QACrBC,KAAK,EAAEJ,QAAQ,CAACI,KAAK;QACrBC,QAAQ,EAAEL,QAAQ,CAACK;MACrB,CAAC;MACD,MAAMb,OAAO,CAAC,kBAAkB,EAAES,YAAY,CAAC,CAACK,IAAI,CAAEC,GAAG,IAAK;QAC5DZ,KAAK,CAACa,OAAO,CAACD,GAAG,CAACE,IAAI,CAACC,OAAO,CAAC;QAC/BC,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEL,GAAG,CAACE,IAAI,CAACI,SAAS,CAAC;MACvD,CAAC,CAAC;IACJ,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;MAChBnB,KAAK,CAACsB,KAAK,CAACH,GAAG,CAACI,QAAQ,CAACT,IAAI,CAACU,KAAK,CAAC;IACtC;EACF,CAAC;EAED,MAAMC,KAAK,GAAG,MAAMpB,QAAQ,IAAK;IAC/B,IAAG;MACC,MAAMqB,SAAS,GAAG;QACdlB,KAAK,EAAEH,QAAQ,CAACG,KAAK;QACrBE,QAAQ,EAAEL,QAAQ,CAACK;MACvB,CAAC;MACD,MAAMb,OAAO,CAAC,iBAAiB,EAAE6B,SAAS,CAAC,CAACf,IAAI,CAAEC,GAAG,IAAK;QACtDQ,OAAO,CAACC,GAAG,CAACT,GAAG,CAACE,IAAI,CAAC;QACrBd,KAAK,CAACa,OAAO,CAACD,GAAG,CAACE,IAAI,CAACC,OAAO,CAAC;QAC/BC,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEL,GAAG,CAACE,IAAI,CAACI,SAAS,CAAC;MACvD,CAAC,CAAC;IACR,CAAC,CAAC,OAAOC,GAAG,EAAE;MACVC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;MAChBnB,KAAK,CAACsB,KAAK,CAACH,GAAG,CAACI,QAAQ,CAACT,IAAI,CAACU,KAAK,CAAC;IACtC;EACJ,CAAC;EAED,oBACE,QAAC,WAAW,CAAC,QAAQ;IAAC,KAAK,EAAE;MAAEpB,QAAQ;MAAEqB;IAAM,CAAE;IAAA,UAAEtB;EAAQ;IAAA;IAAA;IAAA;EAAA,QAAwB;AAEvF,CAAC;AAAC,KAvCID,YAAY;AAyClB,OAAO,MAAMyB,OAAO,GAAG,MAAK;EAAA;EACxB,MAAMC,OAAO,GAAG9B,KAAK,CAAC+B,UAAU,CAAC5B,WAAW,CAAC;EAC7C,IAAG2B,OAAO,KAAKE,SAAS,EAAE;IACtB,MAAM,IAAIN,KAAK,CAAC,+CAA+C,CAAC;EACpE;EACA,OAAOI,OAAO;AAClB,CAAC;AAAA,GANYD,OAAO;AAQpB,eAAezB,YAAY;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}